<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>All Sports</title>
    <style>
      body {
        font-family: "Poppins", sans-serif;
      }
    </style>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100">
    <%- include('header') %>
    <div class="max-w-screen-md mx-auto p-4">
      <div class="text-lg font-semibold flex justify-between items-center">
        <span>Available Sports</span>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        <% allSports.forEach(sport => { %>
        <div class="bg-white p-4 rounded shadow">
          <p class="text-lg font-semibold mb-2 text-center">
            <%= sport.sport_name %>
          </p>
          <div class="flex space-x-2 mb-2 justify-between">
            <button
              onclick="location.href = '/create-session/<%=sport.id%>'"
              class="bg-blue-500 text-white px-4 py-2 rounded relative"
              title="Create a Session"
            >
              <span class="hover:text-gray-300">
                <!-- Add this line for hover effect -->
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M12 4.5v15m7.5-7.5h-15"
                  />
                </svg>
              </span>
              <!-- Tooltip text -->
              <span
                class="absolute top-0 left-0 bg-blue-500 text-white p-1 text-xs invisible group-hover:visible"
              >
                Create a Session
              </span>
            </button>
            <button
              onclick="location.href = '/sessions/<%=sport.id%>'"
              class="bg-green-500 text-white px-4 py-2 rounded relative"
              title="Join a Session"
            >
              <span class="hover:text-gray-300">
                <!-- Add this line for hover effect -->
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"
                  />
                </svg>
              </span>
              <!-- Tooltip text -->
              <span
                class="absolute top-0 left-0 bg-blue-500 text-white p-1 text-xs invisible group-hover:visible"
              >
                Join a Session
              </span>
            </button>
          </div>
          <% if (sessionsCountBySport) { %> <% const matchingObject =
          sessionsCountBySport.find(item => item.sport_id === sport.id); %> <%
          if (matchingObject) { %> No. of sessions created: <%= matchingObject ?
          matchingObject.sessionCount : 0 %> <% } else { %>
          <p>No sessions created for this sport.</p>
          <% } %> <% } %>
        </div>
        <% }); %>
      </div>
    </div>
  </body>
</html>
